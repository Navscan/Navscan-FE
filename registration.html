<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NavScan - User Registration System v2.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
        }

        :root {
            --spacing-unit: 0.5rem;
            --font-base: 1rem;
            --container-padding: calc(var(--spacing-unit) * 3);
            --element-spacing: calc(var(--spacing-unit) * 2);
            --menu-width: 280px;
            --gold: #D4AF37;
            --navy: #1A2F5F;
            --dark-navy: #0E1A40;
            --white: #FFFFFF;
            --light-gray: rgba(255, 255, 255, 0.1);
        }

        body {
            background: linear-gradient(135deg, var(--navy) 0%, var(--dark-navy) 100%);
            color: var(--white);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            padding: 0;
            font-size: var(--font-base);
        }

        .container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            padding: var(--container-padding);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: calc(var(--spacing-unit) * 2) 0;
            margin-bottom: var(--spacing-unit);
        }

        .logo-container h1 {
            font-size: calc(var(--font-base) * 1.5);
            font-weight: 700;
            color: var(--gold);
            margin-bottom: calc(var(--spacing-unit) * 0.5);
        }

        .logo-container p {
            font-size: calc(var(--font-base) * 0.85);
            color: var(--white);
            opacity: 0.9;
        }

        .menu-btn {
            background: none;
            border: none;
            color: var(--gold);
            font-size: calc(var(--font-base) * 1.5);
            cursor: pointer;
            padding: var(--spacing-unit);
            width: 2.75rem;
            height: 2.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            z-index: 1001;
        }

        /* Registration Section */
        .registration-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: calc(var(--spacing-unit) * 3) 0;
        }

        .registration-title {
            font-size: calc(var(--font-base) * 1.5);
            margin-bottom: calc(var(--spacing-unit) * 2);
            font-weight: 600;
            color: var(--gold);
        }

        .registration-button {
            background: linear-gradient(135deg, var(--gold) 0%, #BF9B30 100%);
            color: var(--navy);
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: calc(var(--font-base) * 1.1);
            font-weight: 600;
            cursor: pointer;
            margin: calc(var(--spacing-unit) * 2) 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease;
            width: 250px;
        }

        .registration-button:hover {
            transform: translateY(-2px);
        }

        footer {
            margin-top: auto;
            padding: calc(var(--spacing-unit) * 3) 0 calc(var(--spacing-unit) * 2);
            text-align: center;
            border-top: 1px solid var(--light-gray);
        }

        .footer-content {
            font-size: calc(var(--font-base) * 0.8);
            color: var(--white);
            opacity: 0.8;
            line-height: 1.4;
        }

        .footer-content p {
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .copyright {
            margin-top: calc(var(--spacing-unit) * 1.5);
            font-size: calc(var(--font-base) * 0.7);
            opacity: 0.7;
            line-height: 1.4;
        }

        /* HAMBURGER MENU STYLES - IDENTICAL TO v2.0 */
        .hamburger-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: var(--menu-width);
            height: 100vh;
            background: linear-gradient(135deg, var(--dark-navy) 0%, #0A1429 100%);
            box-shadow: 4px 0 15px rgba(0, 0, 0, 0.3);
            overflow-y: auto;
            z-index: 1000;
            transition: transform 0.3s ease;
            padding: calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 2);
            transform: translateX(-100%);
        }

        .hamburger-menu.open {
            transform: translateX(0);
        }

        .menu-header {
            text-align: center;
            margin-bottom: calc(var(--spacing-unit) * 3);
            padding-bottom: calc(var(--spating-unit) * 2);
            border-bottom: 1px solid var(--light-gray);
        }

        .menu-header h2 {
            color: var(--gold);
            font-size: calc(var(--font-base) * 1.3);
            margin-bottom: calc(var(--spacing-unit) * 0.5);
        }

        .menu-section {
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .section-header {
            color: var(--gold);
            font-size: calc(var(--font-base) * 1.1);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
            padding-left: var(--spacing-unit);
            border-left: 3px solid var(--gold);
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: calc(var(--spacing-unit) * 1.5) var(--spacing-unit);
            margin-bottom: calc(var(--spacing-unit) * 0.5);
            border-radius: 6px;
            color: var(--white);
            text-decoration: none;
            transition: background-color 0.2s ease;
        }

        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .menu-item i {
            margin-right: calc(var(--spacing-unit) * 1.5);
            width: 1.5rem;
            text-align: center;
            color: var(--gold);
        }

        .menu-item span {
            flex: 1;
            font-size: calc(var(--font-base) * 0.95);
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .menu-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .enterprise-portal-item {
            background-color: rgba(212, 175, 55, 0.15);
            border: 2px solid var(--gold);
            margin-top: calc(var(--spacing-unit) * 2);
        }

        .enterprise-portal-item:hover {
            background-color: rgba(212, 175, 55, 0.25);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            overflow-y: auto;
        }

        .modal-content {
            background: linear-gradient(135deg, var(--dark-navy) 0%, #0A1429 100%);
            margin: 5% auto;
            padding: 25px;
            border: 2px solid var(--gold);
            border-radius: 15px;
            width: 90%;
            max-width: 450px;
            color: var(--white);
            position: relative;
        }

        .modal .close {
            color: var(--gold);
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .modal .close:hover {
            color: var(--white);
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--gold);
            font-weight: 600;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--gold);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
            font-size: calc(var(--font-base) * 0.95);
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--white);
            background: rgba(255, 255, 255, 0.15);
        }

        .birthday-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }

        .birthday-container select {
            width: 100%;
        }

        button[type="submit"] {
            background: linear-gradient(135deg, var(--gold) 0%, #BF9B30 100%);
            color: var(--navy);
            padding: 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            font-size: calc(var(--font-base) * 1.1);
            margin-top: 10px;
        }

        button[type="submit"]:hover {
            transform: translateY(-1px);
        }

        /* User List Styles */
        .users-list {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .user-card {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            text-align: left;
        }

        .user-card h4 {
            color: var(--gold);
            margin-bottom: 8px;
        }

        .user-card p {
            margin: 3px 0;
            font-size: calc(var(--font-base) * 0.9);
        }

        @media (max-width: 768px) {
            .registration-button {
                width: 200px;
                padding: 12px 20px;
            }
            
            .birthday-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- HAMBURGER MENU - IDENTICAL TO v2.0 -->
    <div class="hamburger-menu" id="hamburgerMenu">
        <div class="menu-header">
            <h2>NavScan Menu</h2>
            <p>v2.0</p>
        </div>

        <div class="menu-section">
            <h3 class="section-header">USER FEATURES</h3>

            <a href="#" class="menu-item" data-feature="discounts">
                <i class="fas fa-tag"></i>
                <span>Discounts</span>
            </a>

            <a href="#" class="menu-item" data-feature="specials">
                <i class="fas fa-star"></i>
                <span>Specials</span>
            </a>

            <a href="#" class="menu-item" data-feature="competitions">
                <i class="fas fa-trophy"></i>
                <span>Competitions</span>
            </a>

            <a href="#" class="menu-item" data-feature="rewards">
                <i class="fas fa-gift"></i>
                <span>My Rewards</span>
            </a>

            <a href="#" class="menu-item" data-feature="giftcards">
                <i class="fas fa-credit-card"></i>
                <span>Gift Cards</span>
            </a>

            <a href="#" class="menu-item" data-feature="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>

            <a href="#" class="menu-item" data-feature="support">
                <i class="fas fa-life-ring"></i>
                <span>Support</span>
            </a>
        </div>

        <div class="menu-section">
            <h3 class="section-header">ENTERPRISE PORTAL</h3>

            <a href="#" class="menu-item enterprise-portal-item" data-feature="portal">
                <i class="fas fa-building"></i>
                <span>Portal</span>
            </a>
        </div>
    </div>

    <div class="menu-overlay" id="menuOverlay"></div>

    <div class="container">
        <header>
            <div class="logo-container">
                <h1>NavScan</h1>
                <p>User Registration System v2.0</p>
            </div>
            <button class="menu-btn" id="menuBtn" aria-label="Open menu">
                <i class="fas fa-bars"></i>
            </button>
        </header>

        <div class="registration-section">
            <h2 class="registration-title">User Registration Portal</h2>
            <button class="registration-button" onclick="showRegistrationModal()">
                <i class="fas fa-user-plus"></i> Register New User
            </button>
            <button class="registration-button" onclick="showUsersModal()">
                <i class="fas fa-users"></i> View Registered Users
            </button>
        </div>

        <footer>
            <div class="footer-content">
                <p>NAVSCAN SOUTH AFRICA</p>
                <p>Navscan.co.za is POWERED by PayBridge (Pty) Ltd</p>
                <p>Reg. 2016/150225/07</p>
            </div>
            <div class="copyright">
                © 2025 NavScan. All rights reserved.
            </div>
        </footer>
    </div>

    <!-- Registration Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>👤 User Registration</h3>
            <form id="registrationForm">
                <div class="form-group">
                    <label>👤 Username:</label>
                    <input type="text" id="username" name="username" required placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label>📧 Email:</label>
                    <input type="email" id="email" name="email" required placeholder="Enter email address">
                </div>
                <div class="form-group">
                    <label>☎️ Phone:</label>
                    <input type="tel" id="phone" name="phone" required placeholder="277XXXXXXXX" pattern="27[0-9]{9}">
                </div>
                <div class="form-group">
                    <label>🎂 Birthday:</label>
                    <div class="birthday-container">
                        <select id="zodiacSign" name="zodiacSign" required>
                            <option value="">Zodiac</option>
                            <option value="Capricorn">♑ Capricorn</option>
                            <option value="Aquarius">♒ Aquarius</option>
                            <option value="Pisces">♓ Pisces</option>
                            <option value="Aries">♈ Aries</option>
                            <option value="Taurus">♉ Taurus</option>
                            <option value="Gemini">♊ Gemini</option>
                            <option value="Cancer">♋ Cancer</option>
                            <option value="Leo">♌ Leo</option>
                            <option value="Virgo">♍ Virgo</option>
                            <option value="Libra">♎ Libra</option>
                            <option value="Scorpio">♏ Scorpio</option>
                            <option value="Sagittarius">♐ Sagittarius</option>
                        </select>
                        <select id="birthYear" name="birthYear" required>
                            <option value="">Year</option>
                        </select>
                        <select id="birthDay" name="birthDay" required>
                            <option value="">Day</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>♂️/♀️ Gender:</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <button type="submit">Register User</button>
            </form>
        </div>
    </div>

    <!-- Users List Modal -->
    <div id="usersModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>📋 Registered Users</h3>
            <div class="users-list" id="usersList">
                <!-- Users will be displayed here -->
            </div>
        </div>
    </div>

    <script>
        // Hamburger Menu Functionality - IDENTICAL TO v2.0
        const menuBtn = document.getElementById('menuBtn');
        const hamburgerMenu = document.getElementById('hamburgerMenu');
        const menuOverlay = document.getElementById('menuOverlay');
        const menuItems = document.querySelectorAll('.menu-item');

        function toggleMenu() {
            hamburgerMenu.classList.toggle('open');
            menuOverlay.classList.toggle('visible');
        }

        menuBtn.addEventListener('click', toggleMenu);
        menuOverlay.addEventListener('click', toggleMenu);

        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const feature = this.getAttribute('data-feature');
                toggleMenu();

                switch(feature) {
                    case 'discounts':
                        alert('Discounts: Based off the bottle tag QRC');
                        break;
                    case 'specials':
                        alert('Specials: When Planned Retail Special');
                        break;
                    case 'competitions':
                        alert('Competitions: For eg: a sports event');
                        break;
                    case 'rewards':
                        alert('My Rewards: For eg: another user buys you a gift card');
                        break;
                    case 'giftcards':
                        alert('Gift Cards: For eg: when user buys a gift card');
                        break;
                    case 'settings':
                        // Refresh registration page
                        window.location.reload();
                        break;
                    case 'support':
                        alert('Support:\n✉️ help@paybridge.co.za\n📞 0860-100-001\n💬 WhatsApp');
                        break;
                    case 'portal':
                        showEnterpriseAuth();
                        break;
                }
            });
        });

        function showEnterpriseAuth() {
            const storeNumber = prompt('Store Number:', 'LCC7708');
            const username = prompt('Username:', 'user@admin.co.za');
            const password = prompt('Password:', '12345');

            if (storeNumber && username && password) {
                if ((storeNumber === 'LCC7708' && username === 'user@admin.co.za' && password === '12345') ||
                    (storeNumber && username && password)) {
                    alert('Authentication successful!\n\nMy Enterprise Identifiers & Stocktaker:\n* Shelf Numbers: Enter SN\n* Product Results - Bottle Numbers: Enter BN\n* Unit Results - Client Codes: CC\n* Branch Results - Batch Numbers: Enter BTN\n* Batch Results - GS1 Barcodes: Enter GTIN\n* GTIN Results\n* Print/Download - Invoice Numbers: Enter IN\n* PDF Copy\n* Print/Download - Delivery Numbers: Enter DN\n* PDF Copy');
                } else {
                    alert('Authentication failed. Please try again.\n\nDemo credentials:\nStore: LCC7708\nUser: user@admin.co.za\nPass: 12345');
                }
            }
        }

        // Keyboard shortcut to close menu
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && hamburgerMenu.classList.contains('open')) {
                toggleMenu();
            }
        });

        // Registration functionality
        let registeredUsers = [];

        function showRegistrationModal() {
            console.log("Opening registration modal");
            document.getElementById('registrationModal').style.display = 'block';
            populateYearDropdown();
            populateDayDropdown();
        }

        function showUsersModal() {
            console.log("Opening users modal");
            document.getElementById('usersModal').style.display = 'block';
            displayUsers();
        }

        function closeModals() {
            console.log("Closing modals");
            document.getElementById('registrationModal').style.display = 'none';
            document.getElementById('usersModal').style.display = 'none';
        }

        function populateYearDropdown() {
            const yearSelect = document.getElementById('birthYear');
            yearSelect.innerHTML = '<option value="">Year</option>';
            const currentYear = new Date().getFullYear();
            
            for (let year = currentYear; year >= 1950; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            }
        }

        function populateDayDropdown() {
            const daySelect = document.getElementById('birthDay');
            daySelect.innerHTML = '<option value="">Day</option>';
            
            for (let day = 1; day <= 31; day++) {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day;
                daySelect.appendChild(option);
            }
        }

        function getMonthFromZodiac(zodiac) {
            const zodiacMonths = {
                'Capricorn': 0, 'Aquarius': 1, 'Pisces': 2, 'Aries': 3,
                'Taurus': 4, 'Gemini': 5, 'Cancer': 6, 'Leo': 7,
                'Virgo': 8, 'Libra': 9, 'Scorpio': 10, 'Sagittarius': 11
            };
            return zodiacMonths[zodiac] || 0;
        }

        function createDateFromZodiac(zodiac, year, day) {
            const month = getMonthFromZodiac(zodiac);
            return new Date(year, month, Math.min(day, 28));
        }

        function displayUsers() {
            const usersList = document.getElementById('usersList');
            usersList.innerHTML = '';

            if (registeredUsers.length === 0) {
                usersList.innerHTML = '<p style="text-align: center; color: var(--gold);">No users registered yet.</p>';
                return;
            }

            registeredUsers.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'user-card';
                userCard.innerHTML = `
                    <h4>${user.username} (${user.status})</h4>
                    <p>📧 ${user.email}</p>
                    <p>☎️ ${user.phone}</p>
                    <p>🎂 ${new Date(user.birthday).toLocaleDateString()} (${user.zodiac})</p>
                    <p>♂️/♀️ ${user.gender}</p>
                    <p>🆔 ${user.userID}</p>
                    <p>📅 Registered: ${new Date(user.registrationDate).toLocaleString()}</p>
                `;
                usersList.appendChild(userCard);
            });
        }

        // Event listeners for registration
        document.addEventListener('DOMContentLoaded', function() {
            // Close modals
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', closeModals);
            });

            window.addEventListener('click', function(event) {
                const modals = document.querySelectorAll('.modal');
                modals.forEach(modal => {
                    if (event.target === modal) {
                        closeModals();
                    }
                });
            });

            // Form submission
            document.getElementById('registrationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const zodiac = document.getElementById('zodiacSign').value;
                const year = document.getElementById('birthYear').value;
                const day = document.getElementById('birthDay').value;
                
                if (!zodiac || !year || !day) {
                    alert('Please complete all birthday fields: Zodiac, Year, and Day');
                    return;
                }

                const birthdayDate = createDateFromZodiac(zodiac, parseInt(year), parseInt(day));
                
                const userData = {
                    userID: 'USER-' + Math.random().toString(36).substr(2, 6).toUpperCase(),
                    registrationDate: new Date().toISOString(),
                    username: document.getElementById('username').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    birthday: birthdayDate.toISOString(),
                    gender: document.getElementById('gender').value,
                    zodiac: zodiac,
                    status: 'Active'
                };

                registeredUsers.push(userData);
                localStorage.setItem('navscanUsers', JSON.stringify(registeredUsers));
                
                alert('✅ User Registered Successfully!\nUserID: ' + userData.userID);
                closeModals();
                this.reset();
            });

            // Load existing users
            const savedUsers = localStorage.getItem('navscanUsers');
            if (savedUsers) {
                registeredUsers = JSON.parse(savedUsers);
            }
        });
    </script>
</body>
</html>
